{% extends "base.html" %}

{% block content %}

  <h1 style="text-align: center">Task - {{ task.name }}</h1>
  <br>
  <div class="container mt-5 auction-list-container">
    <div class="row auction-container">
      <div class="col-md-3">
        {#            <img src="/static/img/no-photo-task.jpg" alt="Фото таска" class="img-thumbnail auction-photo">#}
        <div id="carouselExampleFade" class="carousel slide carousel-fade" data-ride="carousel">
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img class="img-fluid d-block w-100"
                   src="https://appsrv1-147a1.kxcdn.com/gradient/images/slider/img-slide-1.jpg" alt="First slide">
            </div>
            <div class="carousel-item">
              <img class="img-fluid d-block w-100"
                   src="https://appsrv1-147a1.kxcdn.com/gradient/images/slider/img-slide-2.jpg" alt="Second slide">
            </div>
            <div class="carousel-item">
              <img class="img-fluid d-block w-100"
                   src="https://appsrv1-147a1.kxcdn.com/gradient/images/slider/img-slide-3.jpg" alt="Third slide">
            </div>
          </div>
          <a class="carousel-control-prev" href="#carouselExampleFade" role="button" data-slide="prev"><span
          class="carousel-control-prev-icon" aria-hidden="true"></span><span class="sr-only"></span></a>
          <a class="carousel-control-next" href="#carouselExampleFade" role="button" data-slide="next"><span
          class="carousel-control-next-icon" aria-hidden="true"></span><span class="sr-only"></span></a>
        </div>
      </div>
      <div class="col-md-9">
        <h5 style="text-align: right">Дедлайн: {{ task.deadline.date.day }}-{{ task.deadline.date.month }}-{{ task.deadline.date.year }} {{ task.deadline.hour }}:{{ task.deadline.minute }}</h5>
        <div class="row">
          <div class="col">
            <p class="overflow-auto">{{ task.description }}</p>
          </div>
          <div class="col-4 d-flex flex-column justify-content-end align-items-end pb-2">
          </div>
        </div>

      </div>
    </div>
  </div>


  <div class="container">
    <h3>Collaborators:</h3>
    {% for participant in task.assignees.all %}
      <h5><a href="/profile/{{ participant.id }}/">{{ participant.username }}</a></h5>
    {% endfor %}
  <hr>
  <div style="text-align: center"><p><strong>Comments</strong></p></div>

  <br>
  <br>
  <div class="card" style="padding: 15px">
  {% for comment in task.comments.all %}
    <p>Comment from <strong><a style="text-decoration: none; font-size: 22px" href="{% url 'profile' comment.user.id %}">{{ comment.user.username }}</a> :</strong></p>
    <p class="content-font" style="font-size: 18px">{{ comment.content }}</p>
    <hr>
  {% endfor %}
  </div>
  <br>
  <form action="{% url 'task_manager:task-create-comment' task.id %}" method="post">
    <div><input type="text" name="content" placeholder="Enter comment" class="datetimeinput form-control" id="content"></div>
    <br>
    <button class="btn btn-primary" type="submit"
    >Create a comment
    </button>
    {% csrf_token %}
  </form>
  </div>

  <script src="https://appsrv1-147a1.kxcdn.com/gradient/js/vendor-all.min.js"></script>
  <script src="https://appsrv1-147a1.kxcdn.com/gradient/js/plugins/bootstrap.min.js"></script>
  <script src="https://appsrv1-147a1.kxcdn.com/gradient/js/pcoded.min.js"></script>
{% endblock %}
